---
layout: default
title: "Аутентификация"
nav_order: 10
parent: "Подключение к API"
---

# Аутентификация

Для всех запросов к API обязательно должен присутствовать авторизационный токен, который можно получить после регистрации вашей организации в системе.

В зависимости от версии биллинга и API, которые вы используете, авторизационный токен будет выглядеть следующим образом:

Пример токена v3: `Authorization: Bearer b37c4c689295904ed21eee5d9a48d42e` 

Пример токена l3: `Authorization: Bearer 29078-API:b37c4c689295904ed21eee5d9a48d42e` 

{: .important }
> Для проверки интеграции и методов, а также проведения тестовых платежей вы можете воспользоваться параметрами демнострационного магазина:
>
> Токен: `b37c4c689295904ed21eee5d9a48d42e`
> 
> Идентификатор магазина: `ffffffff-ffff-ffff-ffff-ffffffffffff`

{: .warning }
> Авторизационный токен должен храниться в защищённом виде и месте. Используя токен, возможно получить доступ к методам API и данным от имени организации.
Токен не следует хранить в общедоступных местах или передавать третьим лицам. При возможной компрометации значения токена (если вы считаете, что токен мог быть получен третьими лицами),
вы должны незамедлительно изменить его в личном кабинете или сообщить об этом в [службу поддержки](https://www.invoicebox.ru/ru/contacts/feedback.html). 

Для проверки работы аутентификации и корректности токена необходимо выполнить метод:
```
GET /v3/security/api/auth/auth
Accept: application/json
User-Agent: MyApp 1.0
Authorization: Bearer b37c4c689295904ed21eee5d9a48d42e
```

Если передан корректный токен, то ответ будет содержать HTTP код `200 OK` и идентификатор пользователя:
```json
{
  "data": {
    "userId": "01771533-8e75-3234-8e3d-9213ae2d7c52"
  }
}
```

Если передан некорректный токен, то ответ будет содержать HTTP код `401 Unauthorized` и ошибку:
```json
{
  "error": {
    "message": "Unauthorized",
    "code": 401
  }
}
```

Если токен не передан, то ответ будет содержать HTTP код `200 OK` и информацию об анонимном пользователе:
```json
{
  "data": {
    "userId": null,
    "profile": null,
    "accessToken": null,
  },
  "extendedData": []
}
```


---
[Читать далее &raquo;](/docs/api/filters){: .btn .btn-primary .mb-4 .mb-md-0 .mr-2 }

